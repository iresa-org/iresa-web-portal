(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{WZ7z:function(t,e,n){"use strict";n.r(e),n.d(e,"AuthorizeModule",(function(){return g}));var s=n("2kYt"),a=n("AeuN"),r=n("4HxU"),i=n("8j5Y"),o=n("EM62"),c=n("sEIs"),h=n("o7am");function p(t,e){1&t&&o.Nb(0)}const u=function(t){return{fragmentChange:t}};let f=(()=>{class t{constructor(t,e,n,s){this.route=t,this.router=e,this.stationsFacade=n,this.spotifyService=s,this.parseState=t=>JSON.parse(t)}ngOnInit(){this.fragmentChange$=this.route.fragment.pipe(Object(i.a)(t=>this.onFragmentChange(t)))}onFragmentChange(t){const e={};if(null===t)this.router.navigateByUrl("/");else{t.split("&").map(t=>t.split("=")).forEach(t=>{e[t[0]]=t[1]}),this.spotifyService.setAuthToken(e);const n=this.parseState(e.state);this.stationsFacade.setSelectedId(n.stationId),this.router.navigateByUrl("/home")}}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(c.a),o.Lb(c.f),o.Lb(r.p),o.Lb(a.c))},t.\u0275cmp=o.Fb({type:t,selectors:[["iresa-portal-authorize"]],decls:3,vars:5,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(o.Mb(0,"iresa-portal-loader"),o.Ac(1,p,1,0,"ng-container",0),o.ec(2,"async")),2&t&&(o.Ab(1),o.jc("ngIf",o.mc(3,u,o.fc(2,1,e.fragmentChange$))))},directives:[h.a,s.k],pipes:[s.b],styles:[""],changeDetection:0}),t})();var l=n("RUCc");let g=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},imports:[[s.c,l.a,r.o,c.i.forChild([{path:"",component:f}])]]}),t})()}}]);