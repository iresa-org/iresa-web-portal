function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+ER6":function(t,e,a){"use strict";a.r(e),a.d(e,"PlaylistDetailsModule",(function(){return E}));var n=a("2kYt"),c=a("4HxU"),i=a("EM62"),l=a("sEIs"),o=a("qFEQ"),s=a("C05f"),r=a("FlRo"),u=a("bFHC"),b=a("iHdW"),f=a("3rlO");function d(t,e){1&t&&i.Nb(0,"th",12)}function p(t,e){if(1&t){var a=i.Tb();i.Sb(0,"td",13),i.Sb(1,"button",14),i.ac("click",(function(){i.tc(a);var t=e.index;return i.ec(2).playSong(t)})),i.Sb(2,"mat-icon"),i.Ac(3,"play_circle_outline"),i.Rb(),i.Rb(),i.Rb()}}function h(t,e){1&t&&(i.Sb(0,"th",12),i.Ac(1,"Name"),i.Rb())}function m(t,e){if(1&t&&(i.Sb(0,"td",13),i.Ac(1),i.Rb()),2&t){var a=e.$implicit;i.Ab(1),i.Bc(a.name)}}function y(t,e){1&t&&(i.Sb(0,"th",12),i.Ac(1,"Artists"),i.Rb())}function v(t,e){if(1&t&&(i.Sb(0,"td",13),i.Ac(1),i.fc(2,"loadArtistGroup"),i.Rb()),2&t){var a=e.$implicit;i.Ab(1),i.Cc(" ",i.gc(2,1,a.artists)," ")}}function k(t,e){1&t&&(i.Sb(0,"th",12),i.Ac(1,"Duration"),i.Rb())}function C(t,e){if(1&t&&(i.Sb(0,"td",13),i.Ac(1),i.fc(2,"songTime"),i.Rb()),2&t){var a=e.$implicit;i.Ab(1),i.Cc(" ",i.gc(2,1,a.duration_ms)," ")}}function g(t,e){1&t&&i.Nb(0,"th",12)}function S(t,e){if(1&t){var a=i.Tb();i.Sb(0,"td",13),i.Sb(1,"button",14),i.ac("click",(function(){i.tc(a);var t=e.index;return i.ec(3).delete(t)})),i.Sb(2,"mat-icon"),i.Ac(3,"delete"),i.Rb(),i.Rb(),i.Rb()}}function w(t,e){1&t&&(i.Qb(0,15),i.zc(1,g,1,0,"th",4),i.zc(2,S,4,0,"td",5),i.Pb())}function A(t,e){1&t&&i.Nb(0,"tr",16)}function R(t,e){1&t&&i.Nb(0,"tr",17)}function _(t,e){if(1&t&&(i.Sb(0,"table",2),i.fc(1,"async"),i.Qb(2,3),i.zc(3,d,1,0,"th",4),i.zc(4,p,4,0,"td",5),i.Pb(),i.Qb(5,6),i.zc(6,h,2,0,"th",4),i.zc(7,m,2,1,"td",5),i.Pb(),i.Qb(8,7),i.zc(9,y,2,0,"th",4),i.zc(10,v,3,3,"td",5),i.Pb(),i.Qb(11,8),i.zc(12,k,2,0,"th",4),i.zc(13,C,3,3,"td",5),i.Pb(),i.zc(14,w,3,0,"ng-container",9),i.zc(15,A,1,0,"tr",10),i.zc(16,R,1,0,"tr",11),i.Rb()),2&t){var a=i.ec();i.kc("dataSource",i.gc(1,4,a.dataSource$)),i.Ab(14),i.kc("ngIf",a.showActionCol),i.Ab(1),i.kc("matHeaderRowDef",a.displayedColumns),i.Ab(1),i.kc("matRowDefColumns",a.displayedColumns)}}function D(t,e){1&t&&(i.Sb(0,"div"),i.Ac(1," You haven't added any song to this playlist\n"),i.Rb())}var z,I=((z=function(){function t(e,a){_classCallCheck(this,t),this.playlistService=e,this.wp=a,this.displayedColumns=["select","name","artists","duration_ms"],this.showActionCol=!1,this._dataSource=new s.a([])}return _createClass(t,[{key:"ngOnInit",value:function(){"favorite"!==this._playlist.type&&this.displayActionCol()}},{key:"displayActionCol",value:function(){this.showActionCol=!0,this.displayedColumns.push("action")}},{key:"playSong",value:function(t){this.wp.play([this._tracks[t].uri])}},{key:"delete",value:function(t){this.playlistService.deletePlaylistTrack({playlistId:this._playlist.id,position:t})}},{key:"loadDataSource",value:function(t){var e=this;if(t.length>0){var a=t.map((function(t){var a={};return e.displayedColumns.forEach((function(e){t[e]&&(a[e]=t[e])})),a}));this._dataSource.next(a)}else this._dataSource.next([])}},{key:"playlist",set:function(t){this._playlist=t,t&&(this._tracks=t.tracks,this.loadDataSource(t.tracks))}},{key:"dataSource$",get:function(){return this._dataSource.asObservable()}}]),t}()).\u0275fac=function(t){return new(t||z)(i.Mb(c.m),i.Mb(c.r))},z.\u0275cmp=i.Gb({type:z,selectors:[["iresa-portal-playlist-tracks"]],inputs:{playlist:"playlist"},decls:4,vars:6,consts:[["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","artists"],["matColumnDef","duration_ms"],["matColumnDef","action",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["matColumnDef","action"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(i.zc(0,_,17,6,"table",0),i.fc(1,"async"),i.zc(2,D,2,0,"div",1),i.fc(3,"async")),2&t&&(i.kc("ngIf",i.gc(1,2,e.dataSource$).length>0),i.Ab(2),i.kc("ngIf",0===i.gc(3,4,e.dataSource$).length))},directives:[n.k,r.j,r.c,r.e,r.b,r.g,r.i,r.d,r.a,u.a,r.f,r.h],pipes:[n.b,b.a,f.a],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background:0 0;border:none;cursor:pointer}"],changeDetection:0}),z);function P(t,e){if(1&t&&(i.Sb(0,"div"),i.Sb(1,"div",1),i.Sb(2,"h3",2),i.Ac(3),i.Rb(),i.Sb(4,"small"),i.Ac(5),i.Rb(),i.Rb(),i.Nb(6,"iresa-portal-playlist-tracks",3),i.Rb()),2&t){var a=e.ngIf;i.Ab(3),i.Bc(a.name),i.Ab(2),i.Cc("Total Tracks: ",a.tracks.length,""),i.Ab(1),i.kc("playlist",a)}}var M,$,x=((M=function(){function t(e,a){_classCallCheck(this,t),this.playlistFacade=e,this.route=a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.paramMap.get("playlistId");this.playlist$=this.playlistFacade.getPlaylist(t)}}]),t}()).\u0275fac=function(t){return new(t||M)(i.Mb(c.m),i.Mb(l.a))},M.\u0275cmp=i.Gb({type:M,selectors:[["iresa-portal-playlist-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title"],[3,"playlist"]],template:function(t,e){1&t&&(i.zc(0,P,7,3,"div",0),i.fc(1,"async")),2&t&&i.kc("ngIf",i.gc(1,1,e.playlist$))},directives:[n.k,o.c,o.b,I],pipes:[n.b],styles:[""],changeDetection:0}),M),O=a("0FR3"),T=a("40Bj"),E=(($=function t(){_classCallCheck(this,t)}).\u0275mod=i.Kb({type:$}),$.\u0275inj=i.Jb({factory:function(t){return new(t||$)},providers:[c.l],imports:[[n.c,u.b,r.k,O.b,O.g,T.a,l.i.forChild([{path:"",resolve:{data:c.l},component:x}])]]}),$)}}]);