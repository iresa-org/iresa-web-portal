!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+ER6":function(a,n,i){"use strict";i.r(n),i.d(n,"PlaylistDetailsModule",(function(){return E}));var c=i("2kYt"),o=i("4HxU"),l=i("EM62"),s=i("sEIs"),r=i("qFEQ"),u=i("C05f"),b=i("FlRo"),f=i("bFHC"),d=i("iHdW"),p=i("3rlO");function m(t,a){1&t&&l.Mb(0,"th",12)}function h(t,a){if(1&t){var e=l.Sb();l.Rb(0,"td",13),l.Rb(1,"button",14),l.Zb("click",(function(){l.sc(e);var t=a.index;return l.dc(2).playSong(t)})),l.Rb(2,"mat-icon"),l.Bc(3,"play_circle_outline"),l.Qb(),l.Qb(),l.Qb()}}function y(t,a){1&t&&(l.Rb(0,"th",12),l.Bc(1,"Name"),l.Qb())}function v(t,a){if(1&t&&(l.Rb(0,"td",13),l.Bc(1),l.Qb()),2&t){var e=a.$implicit;l.Ab(1),l.Cc(e.name)}}function A(t,a){1&t&&(l.Rb(0,"th",12),l.Bc(1,"Artists"),l.Qb())}function g(t,a){if(1&t&&(l.Rb(0,"td",13),l.Bc(1),l.ec(2,"loadArtistGroup"),l.Qb()),2&t){var e=a.$implicit;l.Ab(1),l.Dc(" ",l.fc(2,1,e.artists)," ")}}function w(t,a){1&t&&(l.Rb(0,"th",12),l.Bc(1,"Duration"),l.Qb())}function k(t,a){if(1&t&&(l.Rb(0,"td",13),l.Bc(1),l.ec(2,"songTime"),l.Qb()),2&t){var e=a.$implicit;l.Ab(1),l.Dc(" ",l.fc(2,1,e.duration_ms)," ")}}function C(t,a){1&t&&l.Mb(0,"th",12)}function R(t,a){if(1&t){var e=l.Sb();l.Rb(0,"td",13),l.Rb(1,"button",14),l.Zb("click",(function(){l.sc(e);var t=a.index;return l.dc(3).delete(t)})),l.Rb(2,"mat-icon"),l.Bc(3,"delete"),l.Qb(),l.Qb(),l.Qb()}}function D(t,a){1&t&&(l.Pb(0,15),l.Ac(1,C,1,0,"th",4),l.Ac(2,R,4,0,"td",5),l.Ob())}function Q(t,a){1&t&&l.Mb(0,"tr",16)}function S(t,a){1&t&&l.Mb(0,"tr",17)}function _(t,a){if(1&t&&(l.Rb(0,"table",2),l.ec(1,"async"),l.Pb(2,3),l.Ac(3,m,1,0,"th",4),l.Ac(4,h,4,0,"td",5),l.Ob(),l.Pb(5,6),l.Ac(6,y,2,0,"th",4),l.Ac(7,v,2,1,"td",5),l.Ob(),l.Pb(8,7),l.Ac(9,A,2,0,"th",4),l.Ac(10,g,3,3,"td",5),l.Ob(),l.Pb(11,8),l.Ac(12,w,2,0,"th",4),l.Ac(13,k,3,3,"td",5),l.Ob(),l.Ac(14,D,3,0,"ng-container",9),l.Ac(15,Q,1,0,"tr",10),l.Ac(16,S,1,0,"tr",11),l.Qb()),2&t){var e=l.dc();l.jc("dataSource",l.fc(1,4,e.dataSource$)),l.Ab(14),l.jc("ngIf",e.showActionCol),l.Ab(1),l.jc("matHeaderRowDef",e.displayedColumns),l.Ab(1),l.jc("matRowDefColumns",e.displayedColumns)}}function I(t,a){1&t&&(l.Rb(0,"div"),l.Bc(1," You haven't added any song to this playlist\n"),l.Qb())}var j,B=((j=function(){function a(e,n){t(this,a),this.playlistService=e,this.wp=n,this.displayedColumns=["select","name","artists","duration_ms"],this.showActionCol=!1,this._dataSource=new u.a([])}return e(a,[{key:"ngOnInit",value:function(){"favorite"!==this._playlist.type&&this.displayActionCol()}},{key:"displayActionCol",value:function(){this.showActionCol=!0,this.displayedColumns.push("action")}},{key:"playSong",value:function(t){this.wp.play([this._tracks[t].uri])}},{key:"delete",value:function(t){this.playlistService.deletePlaylistTrack({playlistId:this._playlist.id,position:t})}},{key:"loadDataSource",value:function(t){var a=this;if(t.length>0){var e=t.map((function(t){var e={};return a.displayedColumns.forEach((function(a){t[a]&&(e[a]=t[a])})),e}));this._dataSource.next(e)}else this._dataSource.next([])}},{key:"playlist",set:function(t){this._playlist=t,t&&(this._tracks=t.tracks,this.loadDataSource(t.tracks))}},{key:"dataSource$",get:function(){return this._dataSource.asObservable()}}]),a}()).\u0275fac=function(t){return new(t||j)(l.Lb(o.m),l.Lb(o.r))},j.\u0275cmp=l.Fb({type:j,selectors:[["iresa-portal-playlist-tracks"]],inputs:{playlist:"playlist"},decls:4,vars:6,consts:[["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","artists"],["matColumnDef","duration_ms"],["matColumnDef","action",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["matColumnDef","action"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(l.Ac(0,_,17,6,"table",0),l.ec(1,"async"),l.Ac(2,I,2,0,"div",1),l.ec(3,"async")),2&t&&(l.jc("ngIf",l.fc(1,2,a.dataSource$).length>0),l.Ab(2),l.jc("ngIf",0===l.fc(3,4,a.dataSource$).length))},directives:[c.k,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,f.a,b.f,b.h],pipes:[c.b,d.a,p.a],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background:0 0;border:none;cursor:pointer}"],changeDetection:0}),j);function O(t,a){if(1&t&&(l.Rb(0,"div"),l.Rb(1,"div",1),l.Rb(2,"h3",2),l.Bc(3),l.Qb(),l.Rb(4,"small"),l.Bc(5),l.Qb(),l.Qb(),l.Mb(6,"iresa-portal-playlist-tracks",3),l.Qb()),2&t){var e=a.ngIf;l.Ab(3),l.Cc(e.name),l.Ab(2),l.Dc("Total Tracks: ",e.tracks.length,""),l.Ab(1),l.jc("playlist",e)}}var P,M,$=((P=function(){function a(e,n){t(this,a),this.playlistFacade=e,this.route=n}return e(a,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.paramMap.get("playlistId");this.playlist$=this.playlistFacade.getPlaylist(t)}}]),a}()).\u0275fac=function(t){return new(t||P)(l.Lb(o.m),l.Lb(s.a))},P.\u0275cmp=l.Fb({type:P,selectors:[["iresa-portal-playlist-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title"],[3,"playlist"]],template:function(t,a){1&t&&(l.Ac(0,O,7,3,"div",0),l.ec(1,"async")),2&t&&l.jc("ngIf",l.fc(1,1,a.playlist$))},directives:[c.k,r.c,r.b,B],pipes:[c.b],styles:[""],changeDetection:0}),P),F=i("0FR3"),x=i("40Bj"),E=((M=function a(){t(this,a)}).\u0275mod=l.Jb({type:M}),M.\u0275inj=l.Ib({factory:function(t){return new(t||M)},providers:[o.l],imports:[[c.c,f.b,b.k,F.b,F.g,x.a,s.i.forChild([{path:"",resolve:{data:o.l},component:$}])]]}),M)}}])}();