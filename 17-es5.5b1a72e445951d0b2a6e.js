!function(){function t(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function a(t,a){for(var n=0;n<a.length;n++){var e=a[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{AqNw:function(a,e,c){"use strict";c.r(e),c.d(e,"PlaylistDetailsModule",function(){return Q});var i=c("ofXK"),o=c("pDmh"),l=c("fXoL"),s=c("tyNb"),r=c("XiUz"),u=c("2Vo4"),b=c("+0xr"),f=c("NFeN"),d=c("UMEp"),p=c("GYQg");function m(t,a){1&t&&l.Nb(0,"th",12)}function h(t,a){if(1&t){var n=l.Tb();l.Sb(0,"td",13),l.Sb(1,"button",14),l.ac("click",function(){l.tc(n);var t=a.index;return l.ec(2).playSong(t)}),l.Sb(2,"mat-icon"),l.Cc(3,"play_circle_outline"),l.Rb(),l.Rb(),l.Rb()}}function y(t,a){1&t&&(l.Sb(0,"th",12),l.Cc(1,"Name"),l.Rb())}function v(t,a){if(1&t&&(l.Sb(0,"td",13),l.Cc(1),l.Rb()),2&t){var n=a.$implicit;l.Bb(1),l.Dc(n.name)}}function g(t,a){1&t&&(l.Sb(0,"th",12),l.Cc(1,"Artists"),l.Rb())}function S(t,a){if(1&t&&(l.Sb(0,"td",13),l.Cc(1),l.fc(2,"loadArtistGroup"),l.Rb()),2&t){var n=a.$implicit;l.Bb(1),l.Ec(" ",l.gc(2,1,n.artists)," ")}}function k(t,a){1&t&&(l.Sb(0,"th",12),l.Cc(1,"Duration"),l.Rb())}function C(t,a){if(1&t&&(l.Sb(0,"td",13),l.Cc(1),l.fc(2,"songTime"),l.Rb()),2&t){var n=a.$implicit;l.Bb(1),l.Ec(" ",l.gc(2,1,n.duration_ms)," ")}}function w(t,a){1&t&&l.Nb(0,"th",12)}function B(t,a){if(1&t){var n=l.Tb();l.Sb(0,"td",13),l.Sb(1,"button",14),l.ac("click",function(){l.tc(n);var t=a.index;return l.ec(3).delete(t)}),l.Sb(2,"mat-icon"),l.Cc(3,"delete"),l.Rb(),l.Rb(),l.Rb()}}function R(t,a){1&t&&(l.Qb(0,15),l.Bc(1,w,1,0,"th",4),l.Bc(2,B,4,0,"td",5),l.Pb())}function D(t,a){1&t&&l.Nb(0,"tr",16)}function _(t,a){1&t&&l.Nb(0,"tr",17)}function I(t,a){if(1&t&&(l.Sb(0,"table",2),l.fc(1,"async"),l.Qb(2,3),l.Bc(3,m,1,0,"th",4),l.Bc(4,h,4,0,"td",5),l.Pb(),l.Qb(5,6),l.Bc(6,y,2,0,"th",4),l.Bc(7,v,2,1,"td",5),l.Pb(),l.Qb(8,7),l.Bc(9,g,2,0,"th",4),l.Bc(10,S,3,3,"td",5),l.Pb(),l.Qb(11,8),l.Bc(12,k,2,0,"th",4),l.Bc(13,C,3,3,"td",5),l.Pb(),l.Bc(14,R,3,0,"ng-container",9),l.Bc(15,D,1,0,"tr",10),l.Bc(16,_,1,0,"tr",11),l.Rb()),2&t){var n=l.ec();l.kc("dataSource",l.gc(1,4,n.dataSource$)),l.Bb(14),l.kc("ngIf",n.showActionCol),l.Bb(1),l.kc("matHeaderRowDef",n.displayedColumns),l.Bb(1),l.kc("matRowDefColumns",n.displayedColumns)}}function N(t,a){1&t&&(l.Sb(0,"div"),l.Cc(1," You haven't added any song to this playlist\n"),l.Rb())}var P,A=((P=function(){function a(n,e){t(this,a),this.playlistService=n,this.wp=e,this.displayedColumns=["select","name","artists","duration_ms"],this.showActionCol=!1,this._dataSource=new u.a([])}return n(a,[{key:"ngOnInit",value:function(){"favorite"!==this._playlist.type&&this.displayActionCol()}},{key:"displayActionCol",value:function(){this.showActionCol=!0,this.displayedColumns.push("action")}},{key:"playSong",value:function(t){this.wp.play([this._tracks[t].uri])}},{key:"delete",value:function(t){this.playlistService.deletePlaylistTrack({playlistId:this._playlist.id,position:t})}},{key:"loadDataSource",value:function(t){var a=this;if(t.length>0){var n=t.map(function(t){var n={};return a.displayedColumns.forEach(function(a){t[a]&&(n[a]=t[a])}),n});this._dataSource.next(n)}else this._dataSource.next([])}},{key:"playlist",set:function(t){this._playlist=t,t&&(this._tracks=t.tracks,this.loadDataSource(t.tracks))}},{key:"dataSource$",get:function(){return this._dataSource.asObservable()}}]),a}()).\u0275fac=function(t){return new(t||P)(l.Mb(o.m),l.Mb(o.r))},P.\u0275cmp=l.Gb({type:P,selectors:[["iresa-portal-playlist-tracks"]],inputs:{playlist:"playlist"},decls:4,vars:6,consts:[["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","artists"],["matColumnDef","duration_ms"],["matColumnDef","action",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"click"],["matColumnDef","action"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(l.Bc(0,I,17,6,"table",0),l.fc(1,"async"),l.Bc(2,N,2,0,"div",1),l.fc(3,"async")),2&t&&(l.kc("ngIf",l.gc(1,2,a.dataSource$).length>0),l.Bb(2),l.kc("ngIf",0===l.gc(3,4,a.dataSource$).length))},directives:[i.k,b.j,b.c,b.e,b.b,b.g,b.i,b.d,b.a,f.a,b.f,b.h],pipes:[i.b,d.a,p.a],styles:["table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{background:0 0;border:none;cursor:pointer}"],changeDetection:0}),P);function M(t,a){if(1&t&&(l.Sb(0,"div"),l.Sb(1,"div",1),l.Sb(2,"h3",2),l.Cc(3),l.Rb(),l.Sb(4,"small"),l.Cc(5),l.Rb(),l.Rb(),l.Nb(6,"iresa-portal-playlist-tracks",3),l.Rb()),2&t){var n=a.ngIf;l.Bb(3),l.Dc(n.name),l.Bb(2),l.Ec("Total Tracks: ",n.tracks.length,""),l.Bb(1),l.kc("playlist",n)}}var $,x,T=(($=function(){function a(n,e){t(this,a),this.playlistFacade=n,this.route=e}return n(a,[{key:"ngOnInit",value:function(){var t=this.route.snapshot.paramMap.get("playlistId");this.playlist$=this.playlistFacade.getPlaylist(t)}}]),a}()).\u0275fac=function(t){return new(t||$)(l.Mb(o.m),l.Mb(s.a))},$.\u0275cmp=l.Gb({type:$,selectors:[["iresa-portal-playlist-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title"],[3,"playlist"]],template:function(t,a){1&t&&(l.Bc(0,M,7,3,"div",0),l.fc(1,"async")),2&t&&l.kc("ngIf",l.gc(1,1,a.playlist$))},directives:[i.k,r.c,r.b,A],pipes:[i.b],styles:[""],changeDetection:0}),$),E=c("1mNh"),O=c("YUcS"),Q=((x=function a(){t(this,a)}).\u0275mod=l.Kb({type:x}),x.\u0275inj=l.Jb({factory:function(t){return new(t||x)},providers:[o.l],imports:[[i.c,f.b,b.k,E.b,E.g,O.a,s.i.forChild([{path:"",resolve:{data:o.l},component:T}])]]}),x)}}])}();